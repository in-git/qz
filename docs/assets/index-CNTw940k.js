import{l as M,_ as _e}from"./AxHeader-BaUqKyC-.js";import{a as o,V as I,e as X,r as y,f as w,v as J,x as Y,o as r,j as g,W as me,c as v,w as u,X as D,J as B,_ as P,b as d,u as s,B as L,Y as fe,Z as ve,k as Z,F as j,q as E,l as ee,$ as ge,K as he,I as be,N as ye,M as xe,C as te,t as k,a0 as ne,a1 as ae,d as A,a2 as we,a3 as Oe,G as le,a4 as $e,O as Ve,g as ke,i as ze,L as Ce,p as Se}from"./index-CoQjj_Ka.js";import{u as He,a as se}from"./table.hook-YGQY_WyU.js";import{c as Pe,d as Te,_ as je}from"./format-BgVCXhuA.js";import{o as Ne}from"./utils-CIuFtj-V.js";import"./nav-Wi7YOkNt.js";var Le={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"};function R(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){Me(n,l,t[l])})}return n}function Me(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var U=function(e,t){var a=R({},e,t.attrs);return o(I,R({},a,{icon:Le}),null)};U.displayName="ExportOutlined";U.inheritAttrs=!1;var Ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"};function K(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){Ie(n,l,t[l])})}return n}function Ie(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var F=function(e,t){var a=K({},e,t.attrs);return o(I,K({},a,{icon:Ee}),null)};F.displayName="OrderedListOutlined";F.inheritAttrs=!1;var Be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};function q(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){Ue(n,l,t[l])})}return n}function Ue(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var W=function(e,t){var a=q({},e,t.attrs);return o(I,q({},a,{icon:Be}),null)};W.displayName="TableOutlined";W.inheritAttrs=!1;const oe="/public/website/",Fe=n=>X.get(oe+"list",{params:n}),We=n=>X.get(oe+"category",{params:{type:n}}),m=He({pageSize:84,categoryName:"interesting",type:"website",flag:""}),ce=y("website"),b=se(),C=y(""),S=async()=>{b.value.loading=!0,C.value="";const{data:n}=await Fe(m.value);b.value.data=n.rows,V.value=[],n.rows.forEach(e=>{const t=e.flag;t==null||t.split(",").forEach(a=>{a&&V.value.findIndex(l=>l.value===a)===-1&&V.value.push({value:a,label:a})})}),V.value.unshift({value:"",label:"全部"}),m.value.total=n.total,b.value.loading=!1},G=()=>{m.value.pageNum=1,S()};y(!0);const z=y(!1),V=y([]),De=w({__name:"TreeSelect",props:J({data:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const e=Y(n,"modelValue");return(t,a)=>{const l=me;return r(),g(l,{"tree-data":t.data,class:"w-[200px]",value:e.value,"onUpdate:value":a[0]||(a[0]=i=>e.value=i),"field-names":{value:"val",label:"label"}},null,8,["tree-data","value"])}}}),Ae={class:"inline-flex"},Re=w({__name:"SwitchIcon",props:J({iconFalse:{},iconTrue:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const e=Y(n,"modelValue");return(t,a)=>{const l=B;return r(),v("div",Ae,[e.value?(r(),g(l,{key:0,onClick:a[0]||(a[0]=i=>e.value=!1)},{icon:u(()=>[(r(),g(D(t.iconTrue)))]),_:1})):(r(),g(l,{key:1,onClick:a[1]||(a[1]=i=>e.value=!0)},{icon:u(()=>[(r(),g(D(t.iconFalse)))]),_:1}))])}}}),Ke=P(Re,[["__scopeId","data-v-8e01077e"]]),H=se(),x=y({selected:[],expandKeys:[]}),qe=async()=>{const{data:n}=await We(ce.value);H.value.data=Pe(n.data)},Ge={class:"sticky top-0 z-10"},Qe={class:"flex gap-4"},Xe={class:"flex gap-4 flex-wrap"},Je={class:"flex gap-4"},Ye={class:"flex gap-2 flex-wrap"},Ze=w({__name:"WebHead",setup(n){const e=y(),t=y(!0),a=(_,c)=>{m.value.pageNum=_,m.value.pageSize=c,S()},l=_=>{C.value=`${_.value}`},i=()=>{let _="";b.value.data.forEach(c=>{_+=`
标题:${c.name}
描述:${c.des}
链接:${c.link}
-------------------------------------------
    `}),Te(_,"网页列表.txt")},h=(_,c)=>{c.children.length===0&&(e.value=_,m.value.categoryName=_,G())};return(_,c)=>{const O=B,$=ge,p=Ke,T=De,N=he,re=be,ie=ne,ue=ye,de=xe,pe=te;return r(),v("div",Ge,[o(pe,null,{title:u(()=>c[5]||(c[5]=[d("div",{class:"flex gap-4 items-center"},[d("span",null,"筛选")],-1)])),extra:u(()=>[d("div",Qe,[o($,{title:"导出分享"},{default:u(()=>[o(O,{onClick:i},{icon:u(()=>[o(s(U))]),_:1})]),_:1}),o(p,{"icon-true":s(W),"icon-false":s(F),modelValue:s(z),"onUpdate:modelValue":c[0]||(c[0]=f=>L(z)?z.value=f:null)},null,8,["icon-true","icon-false","modelValue"]),o(p,{"icon-true":s(fe),"icon-false":s(ve),modelValue:s(t),"onUpdate:modelValue":c[1]||(c[1]=f=>L(t)?t.value=f:null)},null,8,["icon-true","icon-false","modelValue"])])]),default:u(()=>[s(t)?(r(),g(ue,{key:0},{default:u(()=>[o(N,{class:"block sm:hidden mb-4 w-[200px]"},{default:u(()=>[o(T,{placeholder:"请选择分类",class:"w-fit",onSelect:h,data:s(H).data,modelValue:s(e),"onUpdate:modelValue":c[2]||(c[2]=f=>L(e)?e.value=f:null)},null,8,["data","modelValue"])]),_:1}),o(N,null,{default:u(()=>[d("div",Xe,[o(re,{onSearch:s(G),"allow-clear":"",value:s(m).name,"onUpdate:value":c[3]||(c[3]=f=>s(m).name=f),placeholder:"请输入网页名称",class:"w-fit"},null,8,["onSearch","value"]),d("div",Je,[o(O,{onClick:s(S),loading:s(b).loading},{default:u(()=>c[6]||(c[6]=[Z("刷新")])),_:1},8,["onClick","loading"])])])]),_:1}),o(N,null,{default:u(()=>[d("div",Ye,[(r(!0),v(j,null,E(s(V),f=>(r(),g(ie,{color:f.value===s(C)?"green":"",class:"cursor-pointer",onClick:wt=>l(f)},{default:u(()=>[d("span",null,k(f.label),1)]),_:2},1032,["color","onClick"]))),256))])]),_:1})]),_:1})):ee("",!0),d("div",null,[o(de,{"show-size-changer":"",onChange:a,current:s(m).pageNum,"onUpdate:current":c[4]||(c[4]=f=>s(m).pageNum=f),"page-size":s(m).pageSize,total:s(m).total},null,8,["current","page-size","total"])])]),_:1})])}}}),et={class:"ax__app inline-flex justify-center flex-col items-center cursor-pointer"},tt={class:"flex card w-[48px] h-[48px] sm:h-[64px] sm:w-[64px] justify-center items-center hover:shadow-lg shadow-gray-300 shadow-sm"},nt={class:"mt-2 sm:text-[14px] text-[12px] app-name w-full text-center"},at=w({__name:"AxApp",props:{name:{},icon:{default:M}},setup(n){return(e,t)=>{const a=ae;return r(),v("div",et,[d("div",tt,[o(a,{fallback:s(M),class:"image",preview:!1,src:e.icon,height:32,width:32},null,8,["fallback","src"])]),d("div",nt,k(e.name),1)])}}}),lt=P(at,[["__scopeId","data-v-4f929e71"]]),Q=n=>`https://www.favicon.vip/get.php?url=${n}`,st={class:"h-full bg-white p-4 overflow-auto w-full"},ot=["onClick"],ct={key:0,class:"app-item p-4 w-full l h-full"},rt={class:"flex gap-4 items-center h-[42px]"},it={class:"w-[42px] h-[42px] inline-flex justify-center items-center avatar"},ut={class:"app-name w-[100%] text-[1rem]"},dt={class:"app-desc text-gray-500"},pt={key:0,class:"mt-3"},_t={key:1,class:"grid place-content-center"},mt=w({__name:"WebList",setup(n){const e=A(()=>z.value?["grid-cols-2 sm:grid-cols-3 lg:grid-cols-6"]:["grid-cols-4","sm:grid-cols-6","lg:grid-cols-12"]),t=A(()=>b.value.data.filter(a=>{var l;return C.value?!!((l=a.flag)!=null&&l.includes(`${C.value}`)):a}));return(a,l)=>{const i=ae,h=te,_=ne,c=lt,O=le,$=Oe;return r(),v("div",st,[o($,{spinning:s(b).loading,class:"w-full h-full"},{default:u(()=>[s(b).data.length>0?(r(),v("ul",{key:0,class:we(["grid gap-2 place-items-start items-start",s(e)])},[(r(!0),v(j,null,E(s(t),p=>(r(),v("li",{key:p.id,onClick:T=>s(Ne)(p.link),class:"w-full l h-full"},[s(z)?(r(),v("div",ct,[d("div",rt,[d("div",it,[o(i,{fallback:s(M),class:"image avatar",preview:!1,src:s(Q)(p.link),height:32,width:32},null,8,["fallback","src"])]),d("div",ut,k(p.name),1)]),o(h,{"body-style":{padding:"0.5rem"},bordered:!1,class:"flex-1 desc h-[84px] mt-4"},{default:u(()=>[d("div",dt,k(p.des||"暂无描述"),1)]),_:2},1024),p.flag?(r(),v("div",pt,[(r(!0),v(j,null,E(p.flag.split(","),T=>(r(),g(_,null,{default:u(()=>[Z(k(T),1)]),_:2},1024))),256))])):ee("",!0)])):(r(),v("div",_t,[o(c,{name:p.name,icon:s(Q)(p.link)},null,8,["name","icon"])]))],8,ot))),128))],2)):(r(),g(O,{key:1}))]),_:1},8,["spinning"])])}}}),ft=P(mt,[["__scopeId","data-v-e97638fc"]]),vt={class:"card h-full p-4 overflow-y-auto"},gt={class:"flex items-center sticky top-0 z-10 bg-white"},ht={class:"block sm:hidden"},bt=w({__name:"WebSidebar",emits:["close"],setup(n,{emit:e}){const t=e,a=l=>{x.value.selected=[l],m.value.categoryName=l,S()};return(l,i)=>{const h=$e,_=B,c=je,O=le,$=Ve;return r(),g($,{class:"h-full sidebar",width:260},{default:u(()=>[d("div",vt,[d("div",gt,[i[3]||(i[3]=d("div",{class:"text-[1.2rem] mb-4 font-bold"},"分类列表",-1)),d("div",ht,[o(_,{onClick:i[0]||(i[0]=p=>t("close"))},{icon:u(()=>[o(h)]),_:1})])]),s(H).data.length>0?(r(),g(c,{key:0,onCheck:a,"expanded-keys":s(x).expandKeys,"onUpdate:expandedKeys":i[1]||(i[1]=p=>s(x).expandKeys=p),"selected-keys":s(x).selected,"onUpdate:selectedKeys":i[2]||(i[2]=p=>s(x).selected=p),data:s(H).data},null,8,["expanded-keys","selected-keys","data"])):(r(),g(O,{key:1}))])]),_:1})}}}),yt=P(bt,[["__scopeId","data-v-70c3e423"]]),xt=w({__name:"index",setup(n){const e=ke();return ze(async()=>{var i;const{type:t}=e.query;t&&(ce.value=t),await qe();let a="";const l=H.value.data[0];if(l.children&&l.children.length>0){a=(i=l.children[0])==null?void 0:i.val;const h=l.val||"";x.value.expandKeys=[a,h]}else a=l.val;m.value.categoryName=a,x.value.selected=[a],S()}),(t,a)=>{const l=_e,i=Ce,h=Se;return r(),v(j,null,[o(l,{title:"全知"}),o(h,{class:"p-4 h-full"},{default:u(()=>[o(yt,{class:"sm:w-[200px] hidden sm:block sm:mr-4"}),o(i,{class:"h-full flex flex-col gap-4"},{default:u(()=>[o(Ze),o(ft)]),_:1})]),_:1})],64)}}}),St=P(xt,[["__scopeId","data-v-a5a486c5"]]);export{St as default};

import{_ as O}from"./AxHeader-IN61jRGo.js";import{g as P,u as A,a as H,r as J}from"./utils-y6QijtT8.js";import{r as U,f as q,P as I,h as K,o as f,j as g,w as s,a as o,b as l,u as e,k as y,Q as z,R as B,K as F,S as N,J as R,T as S,N as T,C as V,_ as $,m as M,i as Q,U as D,p as E,L as G}from"./index-DN2r2unu.js";import"./nav-Clq83P81.js";const t=U({username:"",password:"",code:"",uuid:"",loading:!1}),j=U(!1),L=U(),C=_=>{j.value=_},v=async()=>{const{data:_}=await P();t.value.uuid=_.uuid,L.value=`data:image/gif;base64,${_.img}`},W={class:"flex gap-4"},X=["src"],Y={class:"flex gap-4"},Z=q({__name:"Login",setup(_){const p=I(),c=K(),n=async()=>{const{data:r}=await A(t.value);if(r.code===200){p.$state.token=r.token,H(),c.push("/zone");return}z.warn(r.msg)};return(r,a)=>{const i=B,m=F,w=N,x=R,b=S,k=T,u=V;return f(),g(u,null,{default:s(()=>[o(k,{onFinish:n,size:"large",layout:"vertical",model:e(t),disabled:e(t).loading},{default:s(()=>[a[7]||(a[7]=l("h1",{class:"text-[24px]"},"用户登录",-1)),o(m,{name:"username",label:"密码",required:""},{default:s(()=>[o(i,{"allow-clear":"",value:e(t).username,"onUpdate:value":a[0]||(a[0]=d=>e(t).username=d)},null,8,["value"])]),_:1}),o(m,{label:"密码",required:"",name:"password"},{default:s(()=>[o(w,{"allow-clear":"",value:e(t).password,"onUpdate:value":a[1]||(a[1]=d=>e(t).password=d)},null,8,["value"])]),_:1}),o(m,{label:"验证码",required:"",name:"code"},{default:s(()=>[l("div",W,[o(i,{"allow-clear":"",value:e(t).code,"onUpdate:value":a[2]||(a[2]=d=>e(t).code=d)},null,8,["value"]),l("div",{class:"code w-[120px] bg-gray-300",onClick:a[3]||(a[3]=(...d)=>e(v)&&e(v)(...d))},[l("img",{src:e(L),class:"h-[100%] w-[100%]"},null,8,X)])])]),_:1}),o(b,{class:"my-16"},{default:s(()=>[l("div",Y,[o(x,{"html-type":"submit",type:"primary",block:"",loading:e(t).loading},{default:s(()=>a[5]||(a[5]=[y(" 用户登录 ")])),_:1},8,["loading"]),o(x,{type:"primary",danger:"",onClick:a[4]||(a[4]=d=>e(C)(!0))},{default:s(()=>a[6]||(a[6]=[y("注册")])),_:1})])]),_:1})]),_:1},8,["model","disabled"])]),_:1})}}}),h=$(Z,[["__scopeId","data-v-2ebcd1fd"]]),ee={class:"flex gap-4"},oe=["src"],ae={class:"flex gap-4"},te=q({__name:"Register",setup(_){const p=async()=>{const{data:c}=await J(t.value);c.code===200&&(z.success("成功注册"),C(!1))};return(c,n)=>{const r=B,a=F,i=N,m=M,w=R,x=S,b=T,k=V;return f(),g(k,null,{default:s(()=>[o(b,{size:"large",layout:"vertical",model:e(t),disabled:e(t).loading,onFinish:p},{default:s(()=>[n[7]||(n[7]=l("h1",{class:"text-[24px]"},"用户注册",-1)),o(a,{label:"用户名称",name:"username",required:""},{default:s(()=>[o(r,{"allow-clear":"",value:e(t).username,"onUpdate:value":n[0]||(n[0]=u=>e(t).username=u)},null,8,["value"])]),_:1}),o(a,{label:"密码",name:"password",required:""},{default:s(()=>[o(i,{"allow-clear":"",value:e(t).password,"onUpdate:value":n[1]||(n[1]=u=>e(t).password=u)},null,8,["value"])]),_:1}),o(a,{label:"验证码",name:"code",required:""},{default:s(()=>[l("div",ee,[o(r,{"allow-clear":"",value:e(t).code,"onUpdate:value":n[2]||(n[2]=u=>e(t).code=u)},null,8,["value"]),l("div",{class:"code w-[120px] bg-gray-300",onClick:n[3]||(n[3]=(...u)=>e(v)&&e(v)(...u))},[l("img",{src:e(L),class:"h-[100%] w-[100%]"},null,8,oe)])])]),_:1}),o(x,{class:"my-16"},{default:s(()=>[l("div",ae,[o(w,{type:"link",onClick:n[4]||(n[4]=u=>e(C)(!1))},{icon:s(()=>[o(m)]),default:s(()=>[n[5]||(n[5]=y(" 用户登录 "))]),_:1}),o(w,{type:"primary",htmlType:"submit",block:""},{default:s(()=>n[6]||(n[6]=[y("注册")])),_:1})])]),_:1})]),_:1},8,["model","disabled"])]),_:1})}}}),ne=$(te,[["__scopeId","data-v-60da1339"]]),se={class:"login-form p-4 flex justify-center items-center h-full"},le={__name:"index",setup(_){const p=I();return Q(()=>{p.$state.token&&D.push("/zone"),v()}),(c,n)=>{const r=O,a=G,i=E;return f(),g(i,{class:"h-screen flex flex-col"},{default:s(()=>[o(r,{title:"个人中心"}),o(a,{class:"flex-1"},{default:s(()=>[l("div",se,[e(j)?(f(),g(ne,{key:1})):(f(),g(h,{key:0}))])]),_:1})]),_:1})}}},ie=$(le,[["__scopeId","data-v-8bf9abcf"]]);export{ie as default};

import{l as N,_ as ie}from"./AxHeader-IN61jRGo.js";import{a as o,V as L,e as G,r as y,f as O,v as Q,x as X,o as r,j as g,W as ue,c as v,w as d,X as F,J as M,_ as S,b as u,u as s,B as j,Y as de,Z as pe,k as _e,F as E,q as J,l as me,$ as fe,K as ve,I as ge,N as he,M as be,C as ye,t as P,a0 as xe,a1 as Y,d as W,a2 as we,a3 as Oe,G as Z,a4 as $e,O as Ve,g as ke,i as ze,L as Ce,p as Se}from"./index-DN2r2unu.js";import{u as He,a as ee}from"./table.hook-CQJ_WISz.js";import{c as Pe,d as Te,_ as je}from"./format-DYvhid0F.js";import{o as Ne}from"./utils-CIuFtj-V.js";import"./nav-Clq83P81.js";var Le={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"};function D(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){Me(n,l,t[l])})}return n}function Me(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var I=function(e,t){var a=D({},e,t.attrs);return o(L,D({},a,{icon:Le}),null)};I.displayName="ExportOutlined";I.inheritAttrs=!1;var Ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"};function A(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){Ie(n,l,t[l])})}return n}function Ie(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var B=function(e,t){var a=A({},e,t.attrs);return o(L,A({},a,{icon:Ee}),null)};B.displayName="OrderedListOutlined";B.inheritAttrs=!1;var Be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};function R(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){Ue(n,l,t[l])})}return n}function Ue(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var U=function(e,t){var a=R({},e,t.attrs);return o(L,R({},a,{icon:Be}),null)};U.displayName="TableOutlined";U.inheritAttrs=!1;const te="/public/website/",Fe=n=>G.get(te+"list",{params:n}),We=n=>G.get(te+"category",{params:{type:n}}),_=He({pageSize:84,categoryName:"interesting",type:"website",flag:""}),ne=y("website"),b=ee(),k=y(""),z=async()=>{b.value.loading=!0,k.value="";const{data:n}=await Fe(_.value);b.value.data=n.rows,$.value=[],n.rows.forEach(e=>{const t=e.flag;t==null||t.split(",").forEach(a=>{a&&$.value.findIndex(l=>l.value===a)===-1&&$.value.push({value:a,label:a})})}),$.value.unshift({value:"",label:"全部"}),_.value.total=n.total,b.value.loading=!1},K=()=>{_.value.pageNum=1,z()};y(!0);const V=y(!1),$=y([]),De=O({__name:"TreeSelect",props:Q({data:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const e=X(n,"modelValue");return(t,a)=>{const l=ue;return r(),g(l,{"tree-data":t.data,class:"w-[200px]",value:e.value,"onUpdate:value":a[0]||(a[0]=i=>e.value=i),"field-names":{value:"val",label:"label"}},null,8,["tree-data","value"])}}}),Ae={class:"inline-flex"},Re=O({__name:"SwitchIcon",props:Q({iconFalse:{},iconTrue:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const e=X(n,"modelValue");return(t,a)=>{const l=M;return r(),v("div",Ae,[e.value?(r(),g(l,{key:0,onClick:a[0]||(a[0]=i=>e.value=!1)},{icon:d(()=>[(r(),g(F(t.iconTrue)))]),_:1})):(r(),g(l,{key:1,onClick:a[1]||(a[1]=i=>e.value=!0)},{icon:d(()=>[(r(),g(F(t.iconFalse)))]),_:1}))])}}}),Ke=S(Re,[["__scopeId","data-v-8e01077e"]]),C=ee(),w=y({selected:[],expandKeys:[]}),qe=async()=>{const{data:n}=await We(ne.value);C.value.data=Pe(n.data)},Ge={class:"sticky top-0 z-10"},Qe={class:"flex gap-4"},Xe={class:"flex gap-4 flex-wrap"},Je={class:"flex gap-4"},Ye={class:"flex gap-2 flex-wrap"},Ze=O({__name:"WebHead",setup(n){const e=y(),t=y(!0),a=(p,c)=>{_.value.pageNum=p,_.value.pageSize=c,z()},l=p=>{k.value=`${p.value}`},i=()=>{let p="";b.value.data.forEach(c=>{p+=`
标题:${c.name}
描述:${c.des}
链接:${c.link}
-------------------------------------------
    `}),Te(p,"网页列表.txt")},h=(p,c)=>{c.children.length===0&&(e.value=p,_.value.categoryName=p,K())};return(p,c)=>{const f=M,H=fe,x=Ke,ae=De,T=ve,le=ge,se=xe,oe=he,ce=be,re=ye;return r(),v("div",Ge,[o(re,null,{title:d(()=>c[5]||(c[5]=[u("div",{class:"flex gap-4 items-center"},[u("span",null,"筛选")],-1)])),extra:d(()=>[u("div",Qe,[o(H,{title:"导出分享"},{default:d(()=>[o(f,{onClick:i},{icon:d(()=>[o(s(I))]),_:1})]),_:1}),o(x,{"icon-true":s(U),"icon-false":s(B),modelValue:s(V),"onUpdate:modelValue":c[0]||(c[0]=m=>j(V)?V.value=m:null)},null,8,["icon-true","icon-false","modelValue"]),o(x,{"icon-true":s(de),"icon-false":s(pe),modelValue:s(t),"onUpdate:modelValue":c[1]||(c[1]=m=>j(t)?t.value=m:null)},null,8,["icon-true","icon-false","modelValue"])])]),default:d(()=>[s(t)?(r(),g(oe,{key:0},{default:d(()=>[o(T,{class:"block sm:hidden mb-4 w-[200px]"},{default:d(()=>[o(ae,{placeholder:"请选择分类",class:"w-fit",onSelect:h,data:s(C).data,modelValue:s(e),"onUpdate:modelValue":c[2]||(c[2]=m=>j(e)?e.value=m:null)},null,8,["data","modelValue"])]),_:1}),o(T,null,{default:d(()=>[u("div",Xe,[o(le,{onSearch:s(K),"allow-clear":"",value:s(_).name,"onUpdate:value":c[3]||(c[3]=m=>s(_).name=m),placeholder:"请输入网页名称",class:"w-fit"},null,8,["onSearch","value"]),u("div",Je,[o(f,{onClick:s(z),loading:s(b).loading},{default:d(()=>c[6]||(c[6]=[_e("刷新")])),_:1},8,["onClick","loading"])])])]),_:1}),o(T,null,{default:d(()=>[u("div",Ye,[(r(!0),v(E,null,J(s($),m=>(r(),g(se,{color:m.value===s(k)?"green":"",class:"cursor-pointer",onClick:xt=>l(m)},{default:d(()=>[u("span",null,P(m.label),1)]),_:2},1032,["color","onClick"]))),256))])]),_:1})]),_:1})):me("",!0),u("div",null,[o(ce,{"show-size-changer":"",onChange:a,current:s(_).pageNum,"onUpdate:current":c[4]||(c[4]=m=>s(_).pageNum=m),"page-size":s(_).pageSize,total:s(_).total},null,8,["current","page-size","total"])])]),_:1})])}}}),et={class:"ax__app inline-flex justify-center flex-col items-center cursor-pointer"},tt={class:"flex card w-[48px] h-[48px] sm:h-[64px] sm:w-[64px] justify-center items-center hover:shadow-lg shadow-gray-300 shadow-sm"},nt={class:"mt-2 sm:text-[14px] text-[12px] app-name w-full text-center"},at=O({__name:"AxApp",props:{name:{},icon:{default:N}},setup(n){return(e,t)=>{const a=Y;return r(),v("div",et,[u("div",tt,[o(a,{fallback:s(N),class:"image",preview:!1,src:e.icon,height:32,width:32},null,8,["fallback","src"])]),u("div",nt,P(e.name),1)])}}}),lt=S(at,[["__scopeId","data-v-4f929e71"]]),q=n=>`https://www.favicon.vip/get.php?url=${n}`,st={class:"h-full bg-white p-4 overflow-auto w-full"},ot=["onClick"],ct={key:0,class:"app-item p-4 w-full l h-full flex gap-4 items-center"},rt={class:"flex gap-4 items-center h-[42px]"},it={class:"w-[42px] h-[42px] inline-flex justify-center items-center avatar"},ut={class:"app-name mb-2 text-[1.1rem]"},dt={class:"app-desc text-gray-400"},pt={key:1,class:"grid place-content-center"},_t=O({__name:"WebList",setup(n){const e=W(()=>V.value?["grid-cols-2 sm:grid-cols-3 lg:grid-cols-6"]:["grid-cols-4","sm:grid-cols-6","lg:grid-cols-12"]),t=W(()=>b.value.data.filter(a=>{var l;return k.value?!!((l=a.flag)!=null&&l.includes(`${k.value}`)):a}));return(a,l)=>{const i=Y,h=lt,p=Z,c=Oe;return r(),v("div",st,[o(c,{spinning:s(b).loading,class:"w-full h-full"},{default:d(()=>[s(b).data.length>0?(r(),v("ul",{key:0,class:we(["grid gap-2 place-items-start items-start",s(e)])},[(r(!0),v(E,null,J(s(t),f=>(r(),v("li",{key:f.id,onClick:H=>s(Ne)(f.link),class:"w-full l h-full"},[s(V)?(r(),v("div",ct,[u("div",rt,[u("div",it,[o(i,{fallback:s(N),class:"image avatar",preview:!1,src:s(q)(f.link),height:32,width:32},null,8,["fallback","src"])])]),u("div",null,[u("div",ut,P(f.name),1),u("div",dt,P(f.des||"暂无描述"),1)])])):(r(),v("div",pt,[o(h,{name:f.name,icon:s(q)(f.link)},null,8,["name","icon"])]))],8,ot))),128))],2)):(r(),g(p,{key:1}))]),_:1},8,["spinning"])])}}}),mt=S(_t,[["__scopeId","data-v-86488b67"]]),ft={class:"card h-full p-4 overflow-y-auto"},vt={class:"flex items-center sticky top-0 z-10 bg-white"},gt={class:"block sm:hidden"},ht=O({__name:"WebSidebar",emits:["close"],setup(n,{emit:e}){const t=e,a=l=>{w.value.selected=[l],_.value.categoryName=l,z()};return(l,i)=>{const h=$e,p=M,c=je,f=Z,H=Ve;return r(),g(H,{class:"h-full sidebar",width:260},{default:d(()=>[u("div",ft,[u("div",vt,[i[3]||(i[3]=u("div",{class:"text-[1.2rem] mb-4 font-bold"},"分类列表",-1)),u("div",gt,[o(p,{onClick:i[0]||(i[0]=x=>t("close"))},{icon:d(()=>[o(h)]),_:1})])]),s(C).data.length>0?(r(),g(c,{key:0,onCheck:a,"expanded-keys":s(w).expandKeys,"onUpdate:expandedKeys":i[1]||(i[1]=x=>s(w).expandKeys=x),"selected-keys":s(w).selected,"onUpdate:selectedKeys":i[2]||(i[2]=x=>s(w).selected=x),data:s(C).data},null,8,["expanded-keys","selected-keys","data"])):(r(),g(f,{key:1}))])]),_:1})}}}),bt=S(ht,[["__scopeId","data-v-70c3e423"]]),yt=O({__name:"index",setup(n){const e=ke();return ze(async()=>{var i;const{type:t}=e.query;t&&(ne.value=t),await qe();let a="";const l=C.value.data[0];if(l.children&&l.children.length>0){a=(i=l.children[0])==null?void 0:i.val;const h=l.val||"";w.value.expandKeys=[a,h]}else a=l.val;_.value.categoryName=a,w.value.selected=[a],z()}),(t,a)=>{const l=ie,i=Ce,h=Se;return r(),v(E,null,[o(l,{title:"全知"}),o(h,{class:"p-4 h-full"},{default:d(()=>[o(bt,{class:"sm:w-[200px] hidden sm:block sm:mr-4"}),o(i,{class:"h-full flex flex-col gap-4"},{default:d(()=>[o(Ze),o(mt)]),_:1})]),_:1})],64)}}}),Ct=S(yt,[["__scopeId","data-v-a5a486c5"]]);export{Ct as default};
